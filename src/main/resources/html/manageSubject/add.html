<!DOCTYPE html>
<!-- saved from url=(0052)http://getbootstrap.com/docs/4.0/examples/dashboard/ -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="" name="description">
    <meta content="" name="author">

    <title>制度信息-</title>
    <link th:href="@{/asserts/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/asserts/css/font-awesome.min.css}" rel="stylesheet">
    <link th:href="@{/asserts/css/plugins/footable/footable.core.css}" rel="stylesheet">

    <link th:href="@{/asserts/css/animate.min.css}" rel="stylesheet">
    <link th:href="@{/asserts/css/style.min.css}" rel="stylesheet">
    <link th:href="@{/asserts/css/bootstrap-table/bootstrap-table.min.css}" rel="stylesheet">
    <link th:href="@{/asserts/css/plugins/iCheck/custom.css}" rel="stylesheet">
    <link th:href="@{/asserts/js/layer/laydate/skins/default/laydate.css}" rel="stylesheet">
    <link th:href="@{/asserts/js/layer/laydate/need/laydate.css}" rel="stylesheet">
    <link th:href="@{/asserts/css/jquery-file-upload.min.css}" rel="stylesheet">
</head>

<body class="gray-bg">
<div class="wrapper wrapper-content  animated fadeInRight">
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5 class="col-sm-10 padding-top-10">[[${manageSystemSel!=null}?编辑议题:新增议题]]</h5>
                    <div class="col-sm-2 text-right"><a href="javascript:history.back(-1)">返回</a></div>
                </div>
                <input id="moduleName" name="moduleName" value="receive" type="hidden"/>

                <div class="ibox-content">
                    <form th:action="@{/manageSubject/add}" th:method="post">
                        <input id="uuid" name="uuid"  th:value="${manageMeetingSubject!=null}?${manageMeetingSubject.uuid}" type="hidden"/>
                        <input id="meetingId" name="meetingId" th:value="${meetingId}" type="hidden"/>
                        <input id="fileIds" name="fileIds" type="hidden" value=""/>
                        <!--第一行-->
                        <fieldset>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label my-font-bold">议题名称</label>
                                <div class="col-sm-5">
                                    <input class="form-control" id="subjectName" name="subjectName"
                                           th:value="${manageMeetingSubject!=null}?${manageMeetingSubject.subjectName}"
                                           th:placeholder="议题名称">
                                </div>
                            </div>
                        </fieldset>

                        <!--第二行-->
                        <fieldset>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label my-font-bold">任务来源</label>
                                <div class="col-sm-5">
                                    <input class="form-control" id="sourceName" name="sourceName"
                                           th:value="${manageMeetingSubject!=null}?${manageMeetingSubject.sourceName}"
                                           th:placeholder="任务来源">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label my-font-bold">专项名称</label>
                                <div class="col-sm-5">
                                    <input class="form-control" id="specialName" name="specialName"
                                           th:value="${manageMeetingSubject!=null}?${manageMeetingSubject.specialName}"
                                           th:placeholder="专项名称">
                                </div>
                            </div>

                        </fieldset>

                        <!--第三行-->
                        <fieldset>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label my-font-bold" >是否通过</label>
                                <div class="col-sm-5">
                                    <select class="form-control" id="passFlag" name="passFlag" >
                                        <option></option>
                                        <option value="是" th:selected="${manageMeetingSubject!=null}?${manageMeetingSubject.passFlag == '是'}">是</option>
                                        <option value="否" th:selected="${manageMeetingSubject!=null}?${manageMeetingSubject.passFlag == '否'}">否</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label my-font-bold" >是否需报国资委审批</label>
                                <div class="col-sm-5">
                                    <select class="form-control" id="approvalFlag" name="approvalFlag" >
                                        <option></option>
                                        <option value="是" th:selected="${manageMeetingSubject!=null}?${manageMeetingSubject.approvalFlag == '是'}" >是</option>
                                        <option value="否" th:selected="${manageMeetingSubject!=null}?${manageMeetingSubject.approvalFlag == '否'}" >否</option>
                                    </select>
                                </div>
                            </div>
                        </fieldset>

                        <!--第四行-->
                        <fieldset>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label my-font-bold" >是否听取意见</label>
                                <div class="col-sm-5">
                                    <select class="form-control" id="adoptFlag" name="adoptFlag" >
                                        <option></option>
                                        <option value="是" th:selected="${manageMeetingSubject!=null}?${manageMeetingSubject.adoptFlag == '是'}" >是</option>
                                        <option value="否" th:selected="${manageMeetingSubject!=null}?${manageMeetingSubject.adoptFlag == '否'}" >否</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label my-font-bold">议题决议</label>
                                <div class="col-sm-5">
                                    <input class="form-control" id="subjectResult" name="subjectResult"
                                           th:value="${manageMeetingSubject!=null}?${manageMeetingSubject.subjectResult}"
                                           th:placeholder="议题决议">
                                </div>
                            </div>
                        </fieldset>

                        <!--第五行-->
                        <fieldset>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label my-font-bold" >是否需要督办</label>
                                <div class="col-sm-5">
                                    <select class="form-control" id="superviseFlag" name="superviseFlag" >
                                        <option></option>
                                        <option value="是" th:selected="${manageMeetingSubject!=null}?${manageMeetingSubject.superviseFlag == '是'}" >是</option>
                                        <option value="否" th:selected="${manageMeetingSubject!=null}?${manageMeetingSubject.superviseFlag == '否'}" >否</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label my-font-bold">备注</label>
                                <div class="col-sm-5">
                                    <input class="form-control" id="remark" name="remark"
                                           th:value="${manageMeetingSubject!=null}?${manageMeetingSubject.remark}"
                                           th:placeholder="备注">
                                </div>
                            </div>
                        </fieldset>
                        <fieldset>
                            <div class="hr-line-dashed" style="margin: 0 0 15px 0;"></div>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label   my-font-bold"
                                       for="fileuploader">听取意见</label>
                                <div class="col-sm-8 ">
                                    <div id="fileuploader">上传</div>
                                </div>
                            </div>
                            <div class="hr-line-dashed" style="margin: 0 0 15px 0;"></div>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label   my-font-bold"
                                       for="fileuploader2">议题材料</label>
                                <div class="col-sm-8 ">
                                    <div id="fileuploader2">上传</div>
                                </div>
                            </div>
                        </fieldset>

                        <div class="form-group row">
                            <div class="col-sm-4 col-sm-offset-2">
                                <button class="btn btn-primary btn-sm badge-pill fa fa-save" type="submit">
                                    [[${manageSystemSel!=null}?保存编辑:保存新增]]
                                </button>
                                <a class="btn btn-white btn-sm " href="javascript:history.back(-1)">[[#{message.cancel}]]</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script th:src="@{/asserts/js/jquery.min.js}" type="text/javascript"></script>
<script th:src="@{/asserts/js/bootstrap.min.js}" type="text/javascript"></script>
<script th:src="@{/asserts/js/layer/layer.min.js}" type="text/javascript"></script>
<script th:src="@{/asserts/js/bootstrap-table/bootstrap-table.min.js?v=1.1?v=1.1}" type="text/javascript"></script>
<script th:src="@{/asserts/js/bootstrap-table/locale/bootstrap-table-zh-CN.js}" type="text/javascript"></script>
<script th:src="@{/asserts/js/tree-view/js/bootstrap-treeview-cl.js}" type="text/javascript"></script>
<!--<script th:src="@{/asserts/js/plugins/iCheck/icheck.min.js}" type="text/javascript"></script>-->
<script th:src="@{/asserts/js/layer/laydate/laydate.js}" type="text/javascript"></script>
<script th:src="@{/asserts/js/plugins/validate/jquery.validate.min.js}" type="text/javascript"></script>
<script th:src="@{/asserts/js/plugins/validate/messages_zh.min.js}" type="text/javascript"></script>
<script th:replace="common/myJs::myCommonJs"></script>
<script th:src="@{/asserts/js/jquery-file-upload.min.js?v=1.1}" type="text/javascript"></script>

<script th:inline="javascript">
    $(function () {
        let ret = [[${manageMeetingSubject!=null}?${manageMeetingSubject.fileUploads}]];
        let ret1 = [];
        let ret2 = [];
        for (let i = 0; i < ret.length; i++) {
            if(ret[i].fileCategory == 'subjectAdvice'){
                ret1.push(ret[i]);
            }else{
                ret2.push(ret[i]);
            }
        }
        myFileAction.do("fileuploader", "fileIds", "subjectAdvice", ret1);
        myFileAction.do("fileuploader2", "fileIds", "subjectMaterial", ret2);
    })

</script>

</body>
</html>
